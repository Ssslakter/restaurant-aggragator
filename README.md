# Restaurant aggregator

## Содержание
* [Компоненты](#компоненты)
* [Как запускать](#как-запускать)
* [Конфигурация](#конфигурация)
* ["Фичи"](#фичи)
* [Альтернативные решения](#альтернативные-решения)

## Компоненты
* **MVC** - панель администратора, которая позволяет управлять ресторанами и пользователями/ролями
* **API** - основной сервис для работы с ресторанами
* **Auth** - сервис для аутентификации пользователей
* **Notifications** - сервис для отправки уведомлений

## Как запускать
1. Поднять зависимости через файл `docker-compose.DB.yml`
2. Запустить один или несколько компонентов

## Конфигурация
Все необходимые настройки, такие как конфиги Jwt, креды от бд и т.д. хранятся в файле `appsettings.json` в каждом компоненте, который запускается
## "Фичи"
1. При формировании заказа в API текущая цена блюда фиксируется, даже если она в дальнейшем изменится
2. Для получения имени курьера и клиента сервис API испольузет Auth.Client для отправки запросов на сервис Auth используя креды сервисного аккаунта
3. При изменении статуса заказа в API отправляется уведомление в очередь RabbitMQ, которая обрабатывается сервисом Notifications
4. В MVC реализована Cookie авторизация
5. В MVC реализована возможность добавления персонала в ресторан через select
6. Кастомные ошибки и мидлвары для логирования
7. Настройки конфигурации, атрибуты, сваггер вынесены в отдельный компонент Infra

## Альтернативные решения
* MVC имеет доступ к базе API и Auth, что позволяет избежать лишних синхронных запросов, но при этом нарушает принципы микросервисной архитектуры,
можно было бы создать пакет для клиента API и отпралять запросы через него и Auth.Client
